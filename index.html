<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anus Words v. Subs</title>
<style>
/* --- General Text Styling --- */
body, input, button, select, textarea, div, span, li { font-family: "MS Sans Serif", Tahoma, sans-serif; }

body {
  background: #008080;
  color: black;
  margin: 0;
  padding-bottom: 40px;
  text-align: center;
  overflow-x: hidden;
}

/* Start bar */
#startBar {
  position: fixed; bottom: 0; left: 0; width: 100%; height: 40px;
  background: #c0c0c0; border-top: 2px solid #fff inset; border-bottom: 2px solid #000 outset;
  display: flex; align-items: center; justify-content: space-between; padding: 0 5px;
}
#startBar button { font-weight: bold; padding: 4px 10px; border: 2px outset #fff; background: #c0c0c0; cursor: pointer; }
#clock { font-size: 12px; font-weight: bold; }

/* Draggable dialog windows */
.window, #subscriberBox, #timerBox, #dataBox {
  border: 2px solid #000; box-shadow: 4px 4px #808080; background: #c0c0c0; position: absolute;
  touch-action: none;
  min-width: 150px;
}
.window { width: 600px; max-width: 90%; top: 60px; left: 50%; transform: translateX(-50%); }
.title-bar {
  background: #000080; color: white; padding: 3px 5px; font-weight: bold; font-size: 14px;
  display: flex; justify-content: space-between; align-items: center;
  cursor: move;
}
.title-bar button {
  width: 20px; height: 18px; font-weight: bold;
  border: 2px outset #fff; background: #c0c0c0; cursor: pointer;
}
.content { padding: 10px; background: #c0c0c0; }

/* Input and list styling */
input#wordInput { padding: 4px; font-size: 14px; width: 100%; max-width: 580px; border: 2px inset #fff; box-sizing: border-box; }
#counter { margin: 10px 0; font-weight: bold; font-size: 16px; }
#message { color: red; font-weight: bold; margin-top: 5px; }
#wordList { max-height: 250px; overflow-y: auto; background: #fff; border: 2px inset #fff; margin-top: 10px; padding: 5px; list-style: none; }
li { border-bottom: 1px solid #808080; padding: 2px; }

/* Progress bar (brown) */
.progress-container { 
  background: #c0c0c0; border: 2px inset #fff; width: 100%; height: 20px; margin-top: 10px; position: relative; 
}
.progress-bar { 
  background: #8B4513; height: 100%; width: 0%; position: relative; 
}
.progress-bar span { 
  position: absolute; width: 100%; text-align: center; font-weight: bold; color: black; 
}

/* Subscriber tracker */
#subscriberBox { width: 200px; z-index:10; top: 10px; right: 10px; }
#subscriberBox .content { display: flex; flex-direction:column; align-items: center; gap: 5px; justify-content: center; font-size: 14px; }
#subscriberBox svg { cursor:pointer; }

/* Timer window */
#timerBox { width: 200px; z-index: 10; top: 10px; left: 10px; }
#timerBox .content { padding:5px; display:flex; flex-direction:column; gap:5px; align-items:center; font-size:14px; }
#timerBox .buttons-row { display:flex; gap:5px; justify-content:center; }

/* Data window */
#dataBox { width: 200px; z-index: 10; top: 140px; left: 10px; }
#dataBox .content { display:flex; flex-direction:column; gap:5px; align-items:center; font-size:14px; }

/* Minimized boxes container */
#minimizedContainer { position: fixed; bottom: 40px; left: 0; display: flex; gap: 5px; padding: 5px; }
.minimized-btn { border: 2px outset #fff; background: #c0c0c0; cursor: pointer; padding: 2px 6px; font-size:12px; }

/* Screensaver ball */
.screensaver-ball {
  position: fixed;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: red;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  font-size: 12px;
  cursor: pointer;
  z-index: 9999;
}
</style>
</head>
<body>

<!-- Minimized container -->
<div id="minimizedContainer"></div>

<!-- Subscriber tracker -->
<div id="subscriberBox">
  <div class="title-bar">
    <span>Subscribers</span>
    <div>
      <button class="minimizeBtn">_</button>
      <button onclick="window.open('https://www.youtube.com/@ANewUntoldStory','_blank')">X</button>
    </div>
  </div>
  <div class="content">
    <svg id="ytLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="24" height="24" style="fill:red;">
      <path d="M549.655 124.083c-6.281-23.651-24.813-42.192-48.461-48.461C459.79 64 288 64 288 64S116.21 64 74.805 75.622c-23.648 6.269-42.18 24.81-48.461 48.461C16 165.487 16 256 16 256s0 90.513 10.344 131.917c6.281 23.651 24.813 42.192 48.461 48.461C116.21 448 288 448 288 448s171.79 0 213.195-11.622c23.648-6.269 42.18-24.81 48.461-48.461C560 346.513 560 256 560 256s0-90.513-10.345-131.917zM232 336V176l142 80-142 80z"/>
    </svg>
    <span id="subscriberCount">Loading...</span>
    <div class="progress-container">
      <div id="progressBar" class="progress-bar">
        <span id="progressText"></span>
      </div>
    </div>
  </div>
</div>

<!-- Timer -->
<div id="timerBox">
  <div class="title-bar">
    <span>Timer</span>
    <div>
      <button class="minimizeBtn">_</button>
      <button onclick="timerBox.style.display='none'">X</button>
    </div>
  </div>
  <div class="content">
    <div>Time: <span id="elapsed">00:00.00</span></div>
    <div>ETA: <span id="eta">0d 0h 0m</span></div>
    <div class="buttons-row">
      <button id="startBtn">Start</button>
      <button id="pauseBtn">Pause</button>
      <button id="resetBtn">Reset</button>
    </div>
  </div>
</div>

<!-- Main words window -->
<div class="window">
  <div class="title-bar">
    <span>Anus Words v. Subs</span>
    <div>
      <button class="minimizeBtn">_</button>
      <button id="clearWordsBtn">X</button>
    </div>
  </div>
  <div class="content">
    <input id="wordInput" type="text" placeholder="Enter a word..." />
    <div id="counter">0 / 0</div>
    <div id="message"></div>
    <ul id="wordList"></ul>
  </div>
</div>

<!-- Data window -->
<div id="dataBox">
  <div class="title-bar">
    <span>Data</span>
    <div>
      <button class="minimizeBtn">_</button>
      <button onclick="dataBox.style.display='none'">X</button>
    </div>
  </div>
  <div class="content">
    <button id="exportBtn">Export to Excel</button>
    <button id="importBtn">Import from Excel</button>
    <input type="file" id="importFile" style="display:none" accept=".xlsx,.xls" />
  </div>
</div>

<!-- Start bar -->
<div id="startBar">
  <button id="bottomStartBtn">Start Screensaver</button>
  <div id="clock"></div>
</div>

<!-- XLSX library -->
<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

<script type="module">
// Firebase & app logic omitted for brevity (same as your code)...

// Clock
function updateClock(){ 
  const now=new Date(); 
  let h=now.getHours(); 
  const ampm=h>=12?"PM":"AM"; 
  h=h%12||12; 
  const m=String(now.getMinutes()).padStart(2,'0'); 
  const s=String(now.getSeconds()).padStart(2,'0'); 
  document.getElementById("clock").textContent=`${h}:${m}:${s} ${ampm}`;
}
setInterval(updateClock,1000); updateClock();

// Dragging & minimize logic same as before...

// --- Bouncing Ball Screensaver ---
function runScreensaver() {
  const balls = [];
  const numBalls = 10;

  for (let i = 0; i < numBalls; i++) {
    const ball = document.createElement("div");
    ball.className = "screensaver-ball";
    ball.textContent = "FUCK NO BABY";
    document.body.appendChild(ball);

    const ballData = {
      el: ball,
      x: Math.random()*(window.innerWidth-50),
      y: Math.random()*(window.innerHeight-50),
      vx: (Math.random()*4+2)*(Math.random()<0.5?-1:1),
      vy: (Math.random()*4+2)*(Math.random()<0.5?-1:1)
    };

    ball.style.left = ballData.x+"px";
    ball.style.top = ballData.y+"px";

    ball.addEventListener("click", ()=> {
      // Remove all balls and stop animation
      balls.forEach(b => b.el.remove());
      cancelAnimationFrame(animationId);
    });

    balls.push(ballData);
  }

  let animationId;
  function animate() {
    balls.forEach(b => {
      b.x += b.vx;
      b.y += b.vy;

      if(b.x <= 0 || b.x +50 >= window.innerWidth) b.vx *= -1;
      if(b.y <= 0 || b.y +50 >= window.innerHeight) b.vy *= -1;

      b.el.style.left = b.x+"px";
      b.el.style.top = b.y+"px";
    });
    animationId = requestAnimationFrame(animate);
  }

  animate();
}

// Start screensaver button
document.getElementById("bottomStartBtn").addEventListener("click", runScreensaver);

</script>
</body>
</html>
